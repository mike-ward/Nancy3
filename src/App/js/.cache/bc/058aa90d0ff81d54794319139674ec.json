{"id":"oYt8","dependencies":[{"name":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\tsconfig.json","includedInParent":true,"mtime":1528140629610},{"name":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\package.json","includedInParent":true,"mtime":1539204817944},{"name":"mithril","loc":{"line":6,"column":40},"parent":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\components\\pages\\stocks.ts","resolved":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\node_modules\\mithril\\mithril.js"},{"name":"../grid/grid","loc":{"line":7,"column":21},"parent":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\components\\pages\\stocks.ts","resolved":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\components\\grid\\grid.ts"},{"name":"../loading/loading","loc":{"line":8,"column":24},"parent":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\components\\pages\\stocks.ts","resolved":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\components\\loading\\loading.ts"},{"name":"../../services/convert-service","loc":{"line":9,"column":32},"parent":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\components\\pages\\stocks.ts","resolved":"C:\\Users\\mike\\Documents\\GitHub\\Nancy3\\src\\App\\js\\services\\convert-service.ts"}],"generated":{"js":"\"use strict\";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,\"__esModule\",{value:!0});var e=t(require(\"mithril\")),i=require(\"../grid/grid\"),o=require(\"../loading/loading\"),n=require(\"../../services/convert-service\");exports.stocks={oninit:s,view:u};var r={stockOptions:null};function s(){l().then(function(t){r.stockOptions=a(t)})}function u(){return e.default(\"div\",e.default(\"h2\",\"Stocks\"),e.default(\"p\",\"Count: \"+(r.stockOptions?r.stockOptions.data.length:0)),r.stockOptions?e.default(i.grid,{gridOptions:r.stockOptions,style:{\"font-size\":\"smaller\"}}):e.default(o.loading))}function l(){return e.default.request({url:\"api/markets/symbols\",data:Date.now()})}function a(t){return{columns:[\"symbol\",\"name\",\"date\",\"type\"].map(function(t){return{id:t,title:n.camelIdentifierToTitle(t),allowSort:!0}}),data:t,key:\"symbol\"}}","map":{"mappings":[{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":0}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":13}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":17}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":19}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":25}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":30}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":47}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":56}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":59}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":66}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":69}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":71}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":82}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":84}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":85}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":93}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":97}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":104}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":119}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":127}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":140}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":141}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":45,"column":1},"generated":{"line":1,"column":148}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":1,"column":1},"generated":{"line":1,"column":152}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":1,"column":1},"generated":{"line":1,"column":156}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":1,"column":1},"generated":{"line":1,"column":158}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":1,"column":1},"generated":{"line":1,"column":160}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":1,"column":1},"generated":{"line":1,"column":168}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":180}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":182}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":190}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":206}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":208}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":216}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":238}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":240}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":248}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":1,"column":282}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":1,"column":290}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":7,"column":35},"generated":{"line":1,"column":297}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":298}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":8,"column":10},"generated":{"line":1,"column":305}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":307}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":312}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":315}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":12,"column":6},"generated":{"line":1,"column":319}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":12,"column":14},"generated":{"line":1,"column":321}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":322}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":1,"column":335}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":341}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":350}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":354}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":18,"column":5},"generated":{"line":1,"column":358}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":363}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":372}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":18,"column":17},"generated":{"line":1,"column":375}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":18,"column":23},"generated":{"line":1,"column":377}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":18,"column":38},"generated":{"line":1,"column":390}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":18,"column":50},"generated":{"line":1,"column":392}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":397}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":21,"column":9},"generated":{"line":1,"column":406}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":410}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":417}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":419}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":22,"column":11},"generated":{"line":1,"column":427}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":433}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":435}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":23,"column":6},"generated":{"line":1,"column":443}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":448}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":458}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":460}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":468}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":472}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":21},"generated":{"line":1,"column":483}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":27},"generated":{"line":1,"column":485}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":42},"generated":{"line":1,"column":498}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":48},"generated":{"line":1,"column":500}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":61},"generated":{"line":1,"column":513}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":66},"generated":{"line":1,"column":518}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":24,"column":75},"generated":{"line":1,"column":525}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":529}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":531}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":544}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":546}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":554}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":556}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":561}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":1,"column":562}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":31},"generated":{"line":1,"column":574}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":37},"generated":{"line":1,"column":576}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":51},"generated":{"line":1,"column":589}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":58},"generated":{"line":1,"column":595}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":73},"generated":{"line":1,"column":596}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":26,"column":73},"generated":{"line":1,"column":608}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":621}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":623}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":631}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":633}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":643}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":652}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":656}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":663}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":665}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":673}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":681}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":21},"generated":{"line":1,"column":682}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":1,"column":686}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":49},"generated":{"line":1,"column":708}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":55},"generated":{"line":1,"column":713}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":31,"column":60},"generated":{"line":1,"column":718}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":34,"column":0},"generated":{"line":1,"column":726}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":735}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":34,"column":21},"generated":{"line":1,"column":737}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":740}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":746}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":747}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":1,"column":755}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":35,"column":18},"generated":{"line":1,"column":756}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":35,"column":28},"generated":{"line":1,"column":765}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":35,"column":36},"generated":{"line":1,"column":772}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":35,"column":44},"generated":{"line":1,"column":779}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":38,"column":5},"generated":{"line":1,"column":787}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":791}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":800}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":38,"column":19},"generated":{"line":1,"column":803}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":38,"column":19},"generated":{"line":1,"column":809}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":39,"column":6},"generated":{"line":1,"column":810}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":813}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":815}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":821}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":823}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":40,"column":36},"generated":{"line":1,"column":846}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":849}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":41,"column":17},"generated":{"line":1,"column":860}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":1,"column":865}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":44,"column":35},"generated":{"line":1,"column":870}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":44,"column":41},"generated":{"line":1,"column":872}},{"source":"components/pages/stocks.ts","name":null,"original":{"line":44,"column":46},"generated":{"line":1,"column":876}}],"sources":{"components/pages/stocks.ts":"﻿import m from 'mithril';\r\nimport { grid } from '../grid/grid';\r\nimport { loading } from '../loading/loading'\r\nimport { IGridOptions, IGridColumn } from '../grid/IGridOptions';\r\nimport { camelIdentifierToTitle } from '../../services/convert-service';\r\n\r\nexport const stocks: m.Component = {\r\n  oninit: oninit,\r\n  view: view\r\n}\r\n\r\nconst model = {\r\n  stockOptions: null as IGridOptions\r\n}\r\n\r\nfunction oninit() {\r\n  getStocks()\r\n    .then(r => { model.stockOptions = gridOptions(r) });\r\n}\r\n\r\nfunction view() {\r\n  return m('div',\r\n    m('h2', `Stocks`),\r\n    m('p', `Count: ${model.stockOptions ? model.stockOptions.data.length : 0}`),\r\n    model.stockOptions\r\n      ? m(grid, { gridOptions: model.stockOptions, style: { 'font-size': 'smaller' } } as any)\r\n      : m(loading));\r\n}\r\n\r\nfunction getStocks() {\r\n  return m.request({ url: 'api/markets/symbols', data: Date.now() });\r\n}\r\n\r\nfunction gridOptions(data: any) {\r\n  const fields = ['symbol', 'name', 'date', 'type'];\r\n\r\n  const columns: IGridColumn[] = fields\r\n    .map(field => ({\r\n      id: field,\r\n      title: camelIdentifierToTitle(field),\r\n      allowSort: true,\r\n    }));\r\n\r\n  return { columns: columns, data: data, key: 'symbol' };\r\n}\r\n"},"lineCount":null}},"hash":"814e687c0bd12418c65a6bf0d27a854d","cacheData":{"env":{}}}